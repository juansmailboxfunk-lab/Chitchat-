/* =========================================
   Services â€“ Desktop Modal / Mobile Accordion
   ========================================= */

/* Mobile (<900px): inline accordion (natural flow) */
.service-more[hidden]{ display:none !important; }

.service-card{
  position: relative;
}

/* Keep cards tidy; optional */
.service-preview{
  display: -webkit-box;
  -webkit-line-clamp: 4;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.service-more{
  margin-top: 12px;
}

/* Desktop (>=900px): show expanded card as centered modal */
@media (min-width: 900px){

  /* Backdrop (you create this element via JS) */
  .services-backdrop{
    position: fixed;
    inset: 0;
    background: rgba(20,24,32,.22);
    backdrop-filter: blur(6px);
    z-index: 900;
  }

  /* The expanded card becomes the modal */
  .service-card.expanded{
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: min(900px, calc(100vw - 48px));
    max-height: 85vh;
    overflow: auto;

    z-index: 1000;

    background: rgba(255,255,255,0.96);
    border: 1px solid rgba(31,36,48,0.14);
    border-radius: 22px;
    box-shadow: 0 28px 70px rgba(31,36,48,0.25);
    padding: 18px;
  }

  /* Inside the modal, ensure "more" is normal flow (NOT absolute) */
  .service-card.expanded .service-more{
    position: static;
    max-height: none;
    overflow: visible;
    margin-top: 12px;
  }

  /* Make sure the toggle stays usable */
  .service-card.expanded .service-toggle{
    position: sticky;
    bottom: 0;
    background: rgba(255,255,255,0.92);
    backdrop-filter: blur(6px);
    margin-top: 14px;
  }
}

