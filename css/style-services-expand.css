
/* =========================================
   Services – Desktop Modal / Mobile Accordion
   ========================================= */

/* Mobile: keep existing accordion behaviour (default styles untouched) */

/* Desktop: show expanded service as centered overlay */
@media (min-width: 900px) {
  .services-grid.has-expanded {
    position: relative;
  }

  .service-card.expanded {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 900px;
    width: calc(100% - 48px);
    max-height: 85vh;
    overflow-y: auto;
    z-index: 1000;
  }

  .services-backdrop {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.25);
    backdrop-filter: blur(2px);
    z-index: 900;
  }
}

/* =========================
   SERVICES EXPAND — patch
   Remove dimming/overlay spotlight
   ========================= */

/* If your JS adds a class like .is-dimmed/.dimmed/.has-open on the grid/body,
   these rules neutralize the fade. */
.services-grid.is-dimmed .service-card,
.services-grid.dimmed .service-card,
body.services-dimmed .service-card {
  opacity: 1 !important;
  filter: none !important;
  transform: none !important;
}

/* If there is an overlay pseudo-element on the grid/section, kill it */
.services-grid::before,
#servicios::before,
.section#servicios::before {
  content: none !important;
}

/* Keep the open card looking “active” in a clean way */
.service-card.is-open,
.service-card[aria-expanded="true"],
.service-card.open {
  box-shadow: var(--shadow) !important;
  border-color: rgba(124, 140, 255, 0.28);
}

/* Make sure expanded content is readable and spaced nicely */
.service-more[hidden] { display: none !important; }
.service-more { margin-top: 10px; }
